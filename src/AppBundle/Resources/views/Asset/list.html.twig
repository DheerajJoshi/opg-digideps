{% embed 'AppBundle:Components/Page:page-report.html.twig' with {
activeTab: "tab-assets"
} %}
    {% set translationDomain = "report-assets" %}
    {% trans_default_domain translationDomain %}

    {# Initialise View States ******************* #}
    {% set showAddForm = false %}
    {% set reportHasNoAssetExplanation = report.noAssetToAdd is not empty %}
    {% set showNoAssetToAddForm = (assets is empty) and report.isDue() and (report.noAssetToAdd is empty) %}
    {#  ***************************************** #}


    {% block pageTitle %}{{ 'page.htmlTitle' | trans }}{% endblock %}
    {% block contentClass %}{{ parent() }} js-report-assets-input{% endblock %}

    {% block pageBody %}

        {% include 'AppBundle:Components/Page:_page-section-title.html.twig' with {
        transDomain: translationDomain,
        pageSectionTitle: 'page.pageSectionTitle'
        } %}
        

        {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
        transDomain: translationDomain,
        pageSectionDescription: 'page.pageSectionDescription'
        } %}

        {% if assets is not empty %}

            {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
            transDomain: translationDomain,
            pageSectionDescription: 'page.pageSectionEditInfo'
            } %}

        {% endif %}


        {% if (not showAddForm) %}
          {% include 'AppBundle:Asset:_asset_add_button_bar.html.twig' with {
          'showMoreLink': assets is not empty,
          'report': report
          } %}
        {% endif %}

        {% if assets is not empty  %}
            {% include 'AppBundle:Asset:_listAsset.html.twig' with {
            'showDeleteConfirm': showDeleteConfirm | default(false)
            } %}
        {% endif %}
        
        
        {% if showNoAssetToAddForm or reportHasNoAssetExplanation %}
          <div class="report-list-separator"> </div>
          {% if reportHasNoAssetExplanation %}
            <p class="no-assets-selected nothing-selected page-section-description behat-region-no-assets-selected">{{ 'no_assets.selected' | trans }}</p>
          {% else %}
              {% block validationSummary %}
                  {{ form_errors_list(no_assets_to_add) }}
              {% endblock %}

              {{ form_start(no_assets_to_add, {attr: {novalidate: 'novalidate', class: 'no-data-form in-page-form' } }) }}

              <p class="page-section-description ">{{ 'no_assets.description'| trans }}</p>
              {{ form_checkbox(no_assets_to_add.no_assets,'no_assets', { 'labelClass': 'required'}) }}

              {{ form_submit(no_assets_to_add.saveNoAsset,'save') }}

              {{ form_end(no_assets_to_add) }}
          {% endif %}
        {% endif %}

    {% endblock %}

{% endembed %}
