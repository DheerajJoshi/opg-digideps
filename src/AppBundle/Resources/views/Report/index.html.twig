{% extends 'AppBundle:Components/Page:page-service.html.twig' %}
{% set translationDomain = "client" %}
{% trans_default_domain translationDomain %}

{% if (reportId) %}
    {% set hideForm = false %}
    {% set formClass = 'in-page-form' %}
{% else %}
    {% set hideForm = true %}
    {% set formClass = '' %}
{% endif %}

{% block bodyClasses %}reports-page{% endblock %}

{% block pageTitle %}{{ 'page.htmlTitle' | trans }} {% endblock %}
{% block contentClass %}{{ parent() }} my-client{% endblock %}
{% block title %}{{ client.getFullname }}{% endblock %}

{% block afterTitle %}
    {% if lastSignedIn %}
        <dl class="behat-region-last-loggedin last-logged-in item-data">
            <dt class="item-label">{{ 'page.lastLoggedIn' | trans({}) }}</dt>
            <dd class="item-value">{{ (lastSignedIn | last_loggedin_date_formatter) }}</dd>
        </dl>
    {% endif %}
{% endblock %}

{% block pageBody %}

    {% if reportId and newReportNotification %}
        <p class="flash">{{ newReportNotification }}</p>
    {% endif %}
    
    {% if reportId %}
        {% include 'AppBundle:Report:_edit-dates.html.twig' with {
            'form' : editReportDatesForm
        } %}
        <hr class="item-list" />
    {% endif %}
    
    
    {% if not reportId and reports is not empty %}
        {% include 'AppBundle:Report:_list-reports.html.twig' with {
        'translationDomain': translationDomain,
        'reports': reports
        } %}
    {% endif %}

{% endblock %}
