{% set translationDomain = "report-overview" %}
{% trans_default_domain translationDomain %}
{% set transOptions = {'%client%': report.client.firstname | e } %}
{% set sectionId = sectionId | default(null) %}
{% set needsAttention =  sectionId in sectionsNeedsAttention %}

{% if linkToSubSection is not defined %}
    {% set linkToSubSection = path(subSection, {reportId: report.id}) %}
{% endif %}

<li id="{{ subSection }}-section" class="section-list-item {{ needsAttention ? ('behat-region-section-' ~ sectionId ~ '-needs-attention highlight') : '' }}">
    <div id="{{ subSection }}-sub-section">
        <a class="behat-link-edit-{{ subSection }} link-edit soft-half--ends" id="edit-{{ subSection }}" href="{{ linkToSubSection }}" aria-label="{{ (subSection ~ '.edit') | trans }}">
            {{ (subSection ~ '.subSectionTitle') | trans }}
            <span class="right status flush--bottom {{ state.state }} behat-region-{{ subSection }}-state-{{ state.state }}">
                {% if state.state == 'done' or customiseAllLabels | default(false) %}
                    {{ (subSection ~ '.label.' ~ state.state) | transchoice(state.nOfRecords | default(0)) }}
                {% else %}
                    {{ ('labels.' ~ state.state) | trans }}
                {% endif %}
            </span>
        </a>

    </div>
</li>
