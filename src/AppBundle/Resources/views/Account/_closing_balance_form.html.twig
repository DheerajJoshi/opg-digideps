{# form to edit closing balance only #}
{% set translationDomain = "report-account-balance" %}
{% trans_default_domain translationDomain %}


<div id="closing-balance" class="behat-region-account-closing-balance-form account-closing-balance-form {% if hideForm %}visuallyhidden{% endif %}">
    {{ form_start(formBalance, {attr: {novalidate: 'novalidate' }}) }}

    {% include 'AppBundle:Components/Page:_sub-section-title.html.twig' with {
    transDomain: translationDomain,
    subSectionTitle: 'form.closing.subSectionTitle',
    iconClass: 'icon icon__notification'
    } %}

    {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
    transDomain: translationDomain,
    pageSectionDescription: 'form.closing.subSectionDescription'
    } %}

    {{ form_widget(formBalance.id) }}
    
    {# Closing date + explanation box #}
    {{ form_known_date(formBalance.closingDate, 'form.closing.controls.closingDate') }}
    {# account.closingBalance is null or account.isClosingBalanceMatchingTransactionSum #}
    {% if formBalanceOptions.closingDateExplanation.show %}
       {{ form_input(formBalance.closingDateExplanation, 'form.closing.controls.closingDateExplanation', { 'labelClass': 'required' }) }}
    {% else %}
      {% do formBalance.closingDateExplanation.setRendered() %}
    {% endif %}
   
    {# Closing balance + explanation box #}
    {{ form_input(formBalance.closingBalance, 'form.closing.controls.closingBalance', {
      'inputPrefix' : 'form.closing.currencySymbol',
      'inputClass' : 'form-control__number'
    } ) }}
    {#  account.closingBalance is null or account.isClosingBalanceMatchingTransactionSum #}
    {% if formBalanceOptions.closingBalanceExplanation.show %}
      {{ form_input(formBalance.closingBalanceExplanation, 'form.closing.controls.closingBalanceExplanation', { 'labelClass': 'required' }) }}
    {% else %}
      {% do formBalance.closingBalanceExplanation.setRendered() %}
    {% endif %}

    
    {% include 'AppBundle:Components/ButtonBar:_start.html.twig' %}
    {{ form_submit(formBalance.save, 'save', {
    'labelText': ( 'form.closing.controls.save.label') | trans,
    'buttonClass': 'behat-link-save'
    }) }}
    {% include 'AppBundle:Components/ButtonBar:_end.html.twig' %}

    {{ form_end(formBalance) }}
</div>
