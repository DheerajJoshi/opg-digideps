# This file is auto-generated during the composer install


# This file is a "template" of what your parameters.yml file should look like
parameters:
    database_driver: pdo_pgsql
    database_host: {{ getv "/database/hostname" }}
    database_port: {{ getv "/database/port" }}
    database_name: {{ getv "/database/name" }}
    database_user: {{ getv "/database/username" }}
    database_password: {{ getv "/database/password" }}
    locale: en
    secret: {{ getv "/secret" }}
    smtp_default_hostname: {{ getv "/smtp/default/hostname" }}
    smtp_default_port: {{ getv "/smtp/default/port" }}
    smtp_default_user: {{ getv "/smtp/default/user" }}
    smtp_default_password: {{ getv "/smtp/default/password" }}
    smtp_secure_hostname: {{ getv "/smtp/secure/hostname" }}
    smtp_secure_port: {{ getv "/smtp/secure/port" }}
    anonymous: {{ getv "/security/anonymous" }}
    email_mock_address: {{ getv "/email/mock/address" }}
    email_mock_path: {{ getv "/email/mock/path" }}
    redis_dsn: '{{getv "/redis/dsn" }}'
    email_send:
        from_email: noreply-opgdeputyservice@{{ getv "/email/domain" }}
        to_email: -
    email_report_submit:
        from_email: noreply-opgdeputyservice@{{ getv "/email/domain" }}
        to_email: {{ getv "/email/report/to" }}
    email_feedback_send:
        from_email: noreply-opgdeputyservice@{{ getv "/email/domain" }}
        to_email: {{ getv "/email/feedback/to" }}
    email:
      base_url:
        frontend: {{ getv "/url/frontend" }}
        admin: {{ getv "/url/admin" }}
      routes:
        user_activate: /user/activate/{token}
        password_reset: /user/password-reset/{token}
        homepage: /
        report_overview: /report/{reportId}/overview
    
{{ if lsdir "/fixtures" }}
    fixtures:
{{ range lsdir "/fixtures" }}
        {{ getv (printf "/fixtures/%s/email" .) }}:
            firstname: {{ getv (printf "/fixtures/%s/firstname" .) }}
            lastname: {{ getv (printf "/fixtures/%s/lastname" .) }}
            password: {{ getv (printf "/fixtures/%s/password" .) }}
            roleId: {{ getv (printf "/fixtures/%s/roleid" .) }}
            activated: {{ getv (printf "/fixtures/%s/activated" .) }}
{{ end }}
{{ end }}

# TODO. script this into API_CLIENT_SECRET_1_KEY, API_CLIENT_SECRET_1_PERMISSIONS etc...
    client_secrets:
        123abc-deputy:
            permissions: [ROLE_LAY_DEPUTY]
        123abc-admin:
            permissions: [ROLE_ADMIN]
        123abc-both:
            permissions: [ROLE_ADMIN, ROLE_LAY_DEPUTY]
