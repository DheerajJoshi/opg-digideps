{% embed 'AppBundle:Layouts:report_left_nav.html.twig' %}

    {% set translationDomain = "report-transfers" %}
    {% trans_default_domain translationDomain %}

    {% block pageTitle %}{{ 'page.htmlTitle' | trans }}{% endblock %}
    {% block contentClass %}{{ parent() }} js-report-contacts-input{% endblock %}
    {% block title %}{{ 'page.pageSectionTitle' | trans }}{% endblock %}

    {% block leftcontent %}
        {% include 'AppBundle:Account:left-nav.html.twig'%}
    {% endblock %}

    {% block maincontent %}

        <p class="page-section-description}}">
            {{ 'page.pageSectionDescription'|trans({'%client%': report.client.firstname}, translationDomain ) }}
        </p>

        <div id="transfers-container-REMOVEME"/>
             {% include 'AppBundle:Transfers:transfers_no_js.html.twig'%}
        </div>
        <script>
            $(document).ready(function () {
                new GOVUK.StickyHeader('#page-section-title-wrapper');
            });

            var opg = opg || {};
            opg.accounts = {{ report.accounts | serialize | raw }};
            opg.report = {
                id: {{report.id}},
                noTransfers: false,
                startDate: '{{ report.startDate | date("j M Y") }}',
                endDate: '{{ report.endDate | date("j M Y") }}',
                client: {{report.client | serialize | raw }}
            };
        </script>
        <script src="{{ 'javascripts/transfers.js' | assetUrl }}"></script>

    {% endblock %}

    {% block pageBodyFooterNav %}
        {% include 'AppBundle:Components:nextprevious.html.twig' with {
        'previousLink': path("accounts" , {'reportId': report.id }),
        'previousLabel': 'Bank accounts',
        'nextLink': path("accounts_moneyin" , {'reportId': report.id }),
        'nextLabel': 'Money in'
        } %}
    {% endblock %}
{% endembed %}
