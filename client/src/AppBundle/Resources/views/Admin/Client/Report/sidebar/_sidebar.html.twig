{% import 'AppBundle:Macros:macros.html.twig' as macros %}

{% set translationDomain = "admin-checklist" %}
{% trans_default_domain translationDomain %}

{% set page = 'checklistPage' %}

<p class="govuk-body-s behat-region-last-saved-by">
    {{ 'lastSaved' | trans({}, 'common') }}:
    {{ (checklist.lastModifiedOn) ? (checklist.lastModifiedOn | date("j F Y H:i")) : 'Not saved yet' }}
    <br>
    {% if (checklist.lastModifiedBy is defined) and (checklist.lastModifiedBy is not empty) %}
        {{ checklist.lastModifiedBy.fullName}}, {{ checklist.lastModifiedBy.roleFullName }}
    {% endif %}
</p>

{% if checklist.submittedOn %}
    <p class="govuk-body-s behat-region-last-submitted-by">
        {{ 'lastSubmitted' | trans({}, 'common') }}:
        {{ checklist.submittedOn | date("j F Y H:i") }}
        <br>
        {{ checklist.submittedBy.fullName}}, {{ checklist.submittedBy.roleFullName }}
    </p>
{% endif %}

<div class="opg-related-items">
    <span class="govuk-caption-m">{{ (page ~ '.jumpTo') | trans }}:</span>
    <h3 class="govuk-heading-s">{{ (page ~ '.heading.' ~ checklistDomain ~ '.title') | trans }}</h3>
    <ul class="govuk-list">
        {% block links %}{% endblock %}
    </ul>
</div>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

<ul class="govuk-list">
    <li>
        <a class="govuk-link govuk-body-s govuk-link--no-visited-state" href="#anchor-{{ checklistDomain }}-checklist">
            {{- macros.icon('arrow-up', 'govuk-!-margin-right-2') | spaceless -}}
            {{ (page ~ '.backToTop') | trans }}: {{ (page ~ '.heading.' ~ checklistDomain ~ '.title') | trans }}
        </a>
    </li>
    <li>
        <a class="govuk-link govuk-body-s govuk-link--no-visited-state" href="#">
            {{- macros.icon('arrow-up', 'govuk-!-margin-right-2') | spaceless -}}
            {{ (page ~ '.backToTop') | trans }}
        </a>
    </li>
</ul>
