{% embed 'AppBundle:Components/Page:page-report.html.twig' %}

    {% set translationDomain = "report-contacts" %}
    {% trans_default_domain translationDomain %}

    {% block pageTitle %}{{ 'page.htmlTitle' | trans }}{% endblock %}
    {% block contentClass %}{{ parent() }} js-report-contacts-input{% endblock %}
    {% block title %}{{ 'page.pageSectionTitle' | trans }}{% endblock %}

    {% block pageBody %}
        
        {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
        transDomain: translationDomain,
        pageSectionDescription: 'page.pageSectionDescription'
        } %}

        {% if report.contacts %}
            {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
            transDomain: translationDomain,
            pageSectionDescription: 'page.pageSectionEditInfo'
            } %}
        {% endif %}

        {% include 'AppBundle:Components/ButtonBar:_add_button_bar.html.twig' with {
        'report': report,
        'section': 'contacts',
        'transDomain': translationDomain,
        'data': contacts
        } %}

        {% if contacts is not empty %}
            {% include 'AppBundle:Contact:_contact_list.html.twig' with {
            'report': report,
            'contacts': contacts,
            'transDomain': translationDomain
            } %}
        {% else %}
            {% if report.reasonForNoContacts is not empty %}
                {% include 'AppBundle:Contact:_none_reason_description.html.twig' with {'report': report} %}
            {% else %}
                <div id="no-contact-reason-form-embed">{{ render(controller('AppBundle:Contact:_noneReasonForm', { 'reportId': report.id, 'request': app.request })) }}</div>
            {% endif %}
        {% endif %}

        {% if (contacts is empty and report.reasonForNoContacts() is not empty ) or (contacts is not empty) %}
            {% include 'AppBundle:Components:nextprevious.html.twig' with {
            'previousLink': path("contacts" , {'reportId': report.id }),
            'previousLabel': 'Contacts',
            'nextLink': path("safeguarding" , {'reportId': report.id }),
            'nextLabel': 'Safeguarding'
            } %}
        {% endif %}

    {% endblock %}

{% endembed %}
