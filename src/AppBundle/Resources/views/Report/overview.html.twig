{% extends 'AppBundle:Components/Page:page-report.html.twig' %}
{% set translationDomain = "report-overview" %}
{% trans_default_domain translationDomain %}

{% if constant('AppBundle\\Entity\\Report::PROPERTY_AND_AFFAIRS') != report.courtOrderType %}
    {% set reportType = "propertyAndAffairs" %}
{% else %}
    {% set reportType = "healthAndWelfare" %}
{% endif %}


{% block pageTitle %}{{ 'page.htmlTitle' | trans }} {% endblock %}
{% block contentClass %}{{ parent() }} report-overview js-report-overview{% endblock %}

 {% block pageNavigation %}
     {% include 'AppBundle:Report/Helper:_report-nav.html.twig' with {
     'report': report,
     tab: 'tab-overview',
     notifications: { 'tab-overview': 'test-icon-class'}
     } %}
 {% endblock %}

{% block pageBody %}

    {{ dump(report.readyToSubmit() ) }}

    {{ dump(report.isDue() ) }}

    {{ dump(report.hasOutstandingAccounts() ) }}

    {% if report.hasOutstandingAccounts %}
        {% for account in report.getOutstandingAccounts() %}
            {{ dump( account.sortCode ) }}
        {% endfor %}
    {% endif %}

    {{ dump(report.hasAssets()) }}
    {{ dump(report.getAssets()) }}

    {{ dump(report.hasContacts()) }}
    {{ dump(report.getContacts()) }}

    {{ dump(report.hasDecisions()) }}
    {{ dump(report.getDecisions()) }}


    {% set report_isDue = false %}

    {% if report.isDue() %}

        {% include 'AppBundle:Report/Overview:_report-overview-due.html.twig' with {
        'translationDomain': translationDomain,
        'reportType': reportType
        } %}

    {% else %}

        {% include 'AppBundle:Report/Overview:_report-overview.html.twig' with {
        'translationDomain': translationDomain,
        'reportType': reportType
        } %}

    {% endif %}


{% endblock %}
