{% embed 'AppBundle:Components/Page:page-report.html.twig' with {
activeTab: "tab-accounts"
} %}
    {% set translationDomain = "report-accounts" %}
    {% trans_default_domain translationDomain %}

    {% block pageTitle %}{{ 'page.htmlTitle' | trans }}{% endblock %}
    {% block contentClass %}{{ parent() }} js-report-accounts-input{% endblock %}
    {% block title %}{{ 'page.htmlTitle' | trans }}{% endblock %}

    {% block pageBody %}

        {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
        transDomain: translationDomain,
        pageSectionDescription: 'page.pageSectionDescription'
        } %}

        {% include 'AppBundle:Components/Page:_page-section-warning.html.twig' with {
        transDomain: translationDomain,
        pageSectionWarning: 'page.pageSectionWarning'
        } %}
        {% include 'AppBundle:Components/Page:_page-section-action.html.twig' with {
              transDomain: translationDomain
        } %}
        {% block validationSummary %}
            {{ form_errors_list(form) }}
        {% endblock %}

        {% set isAccountPageWithAtLeastOneAccount = (accounts is not empty) and (action == 'list') %}
        {% include 'AppBundle:Account:_account_form.html.twig' with {
          hideForm:  isAccountPageWithAtLeastOneAccount ? true : false,
          formClass: isAccountPageWithAtLeastOneAccount ? '' : 'report-form in-page-form'
        } %}

        {% if accounts is not empty %}
            {% include 'AppBundle:Account:_listAccounts.html.twig' %}
        {% endif %}

        {% include 'AppBundle:Account:_continue.html.twig' with {
        'report': report,
        'action' : action
        } %}

    {% endblock %}

{% endembed %}
