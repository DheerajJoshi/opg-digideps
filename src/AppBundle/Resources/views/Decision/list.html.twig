{% embed 'AppBundle:Components/Page:page-report.html.twig' %}
    
    {% set translationDomain = "report-decisions" %}
    {% trans_default_domain translationDomain %}
    
    {% block pageTitle %}{{ 'page.htmlTitle' | trans }}{% endblock %}
    {% block contentClass %}{{ parent() }} js-report-decisions-input{% endblock %}
    {% block title %}{{ 'page.pageSectionTitle' | trans }}{% endblock %}

    {% block pageBody %}

        {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
            transDomain: translationDomain,
            pageSectionDescription: 'page.pageSectionDescription'
        } %}

        {% if report.decisions %}
            {% include 'AppBundle:Components/Page:_page-section-description.html.twig' with {
                transDomain: translationDomain,
                pageSectionDescription: 'page.pageSectionEditInfo'
            } %}
        {% endif %}
        
        {% include 'AppBundle:Components/ButtonBar:_add_button_bar.html.twig' with {
            'report': report,
            'section': 'decisions',
            'transDomain': translationDomain,
            'data': report.decisions
        } %}


        {% if decisions is not empty %}
            {% include 'AppBundle:Decision:_decision_list.html.twig' with {
            'report': report,
            'decisions': decisions,
            'transDomain': translationDomain
            } %}
        {% else %}
            {% if report.reasonForNoDecisions is not empty %}
                {% include 'AppBundle:Decision:_none_reason_description.html.twig' with {'report': report} %}
            {% else %}
                <div id="no-decision-reason-form-embed">{{ render(controller('AppBundle:Decision:_noneReasonForm', { 'reportId': report.id, 'request': app.request })) }}</div>        
            {% endif %}
        {% endif %}
        
    {% endblock %}

    {% block pageBodyFooterNav %}
        {% include 'AppBundle:Components:nextprevious.html.twig' with {
        'nextLink': path("contacts" , {'reportId': report.id }),
        'nextLabel': 'Contacts'
        } %}
    {% endblock %}

{% endembed %}
