{% set translationDomain = "odr-overview" %}
{% trans_default_domain translationDomain %}

<ul id="overview-sections" class="overview-sections">

    <li id="finances-and-assets" class="overview-section">
        <h2 class="heading">{{ 'heading.planningTitle' | trans() }}</h2>
        {% include 'AppBundle:Odr:_subsection.html.twig' with {
            transDomain: translationDomain,
            subSection: 'accounts',
            odr: odr,
            description: false,
            state: 'not-started',
            list: true
        } %}
        {% include 'AppBundle:Odr:_subsection.html.twig' with {
            transDomain: translationDomain,
            subSection: 'assets',
            odr: odr,
            description: false,
            state: 'not-started',
            list: true
        } %}
    </li>

    <li id="visists-and-actions" class="overview-section">
        <h2 class="heading">{{ 'heading.planningTitle' | trans() }}</h2>
        {% include 'AppBundle:Odr:_subsection.html.twig' with {
            transDomain: translationDomain,
            subSection: 'visitsCare',
            linkToSubSection: path('odr-visits-care', {odrId: odr.id}),
            odr: odr,
            info: true,
            description: true,
            state: odrStatus.visitsCareState,
        } %}
        {% include 'AppBundle:Odr:_subsection.html.twig' with {
            transDomain: translationDomain,
            subSection: 'actions',
            odr: odr,
            description: true,
            state: 'not-started',
            list: true
        } %}
    </li>


    <li id="report-submit-section" class="overview-section">
        <h2 class="heading">{{ 'heading.finishYourReport' | trans() }}</h2>
        {% if odrStatus.isReadyToSubmit and odr.isDue %}
            {% include 'AppBundle:Overview:_subsection.html.twig' with {
            transDomain: translationDomain,
            subSection: 'report_add_further_info',
            odr: odr,
            description: false,
            state: "not-started",
            status: "Not started"
            } %}
        {%  else %}
            {% include 'AppBundle:Overview:_subsection.html.twig' with {
            transDomain: translationDomain,
            subSection: 'report_add_further_info',
            odr: odr,
            description: false,
            state: "not-started",
            status: "Not started",
            disableedit: true
            } %}
        {%  endif %}
    </li>

</ul>

{% if odr.isDue == true and odrStatus.isReadyToSubmit == false %}
    {% include 'AppBundle:Components/Page:_page-section-warning.html.twig' with {
    transDomain: translationDomain,
    pageSectionWarning: 'submitWhenReady',
    iconClass: 'icon icon__notification',
    id: 'cannot-submit-warning'
    } %}
{% endif %}


{% if odr.isDue == false %}
    {% set endDate = '[enddate]'  %}
    {% include 'AppBundle:Components/Page:_page-section-warning.html.twig' with {
    transDomain: translationDomain,
    pageSectionWarning: 'warningNotDue',
    transOptions: {'%date%': endDate},
    iconClass: 'icon icon__notification',
    id: 'cannot-submit-warning'
    } %}
{% endif %}
