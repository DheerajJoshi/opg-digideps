{% set translationDomain = "report-common" %}
{% trans_default_domain translationDomain %}

{# iterate the config. When the section if found (k=n), includes the nextprevious.html.twig with
   the k=n-1 and k=n+1 config.
   When all the NDR OTPP section are implemented, consider merge up the included template
 #}
{% set previousLink = false %}
{% set nextLink = false %}


{% for k,s in config %}
    {% if s.section == section %}
        {% if config[k-1] is defined %}
            {% set previousLink = config[k-1].link %}
            {% set previousLabel = ('prevNextLinks.sections.' ~ config[k-1].section) | trans %}
        {% endif %}
        {% if config[k+1] is defined %}
            {% set nextLink = config[k+1].link%}
            {% set nextLabel = ('prevNextLinks.sections.' ~ config[k+1].section) | trans %}
        {% endif %}

        <nav class="pagination" role="navigation" aria-label="Pagination">
            <ul class="group">
                {% if previousLink %}
                    <li class="previous">
                        <a title="Navigate to previous part" rel="prev" href="{{ previousLink }}">
                            <span class="pagination-label">{{ 'prevNextLinks.previous' | trans({}, translationDomain) }}</span>
                            <span class="pagination-part-title">{{ previousLabel }}</span>
                        </a>
                    </li>
                {% endif %}
                {% if nextLink %}
                    <li class="next">
                        <a title="Navigate to next part" rel="next" href="{{ nextLink }}">
                            <span class="pagination-label">{{ 'prevNextLinks.next' | trans({}, translationDomain) }}</span>
                            <span class="pagination-part-title">{{ nextLabel }}</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>

    {% endif %}
{% endfor %}

