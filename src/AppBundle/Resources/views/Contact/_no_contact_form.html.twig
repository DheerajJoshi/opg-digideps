{% if showNoContactForm %}

    {% block validationSummary %}
        {{ form_errors_list(no_contact) }}
    {% endblock %}


    {{ form_start(no_contact, {attr: {novalidate: 'novalidate', class: 'no-data-form in-page-form' } }) }}

    {% include 'AppBundle:Components/Page:_sub-section-description.html.twig' with {
    transDomain: translationDomain,
    subSectionDescription: 'no_contact.subSectionDescription',
    iconClass: 'icon icon__notification'
    } %}

    {{ form_input(no_contact.reason, 'no_contact.controls.reason', {
    'labelClass': 'visuallyhidden', 'inputClass': 'expanding'
    }) }}

    
    {% if (showDeleteReasonConfirm) %}
        {% include 'AppBundle:Components/Alerts:_delete-confirmation.html.twig' with
        {
        'translationDomain': translationDomain,
        componentID: 'delete-reason-confirm',
        deleteMessageText: 'delete-reason.message' | trans({}, translationDomain),
        deleteButtonType: path('delete_reason_contacts', {'reportId': report.id }),
        deleteButtonText: 'delete-reason.label' | trans({}, translationDomain),
        deleteButtonClass: 'button-warning behat-link-delete-reason',
        cancelButtonLink: url('contacts', {'reportId': report.id, 'action': 'edit-reason' }) ~ "#edit-reason",
        cancelButtonText: 'cancel.label' | trans({}, translationDomain),
        cancelButtonClass: 'behat-link-delete-reason-confirm-cancel' | trans
        } %}

        {{ form_submit(no_contact.saveReason,'save', { 'buttonClass': 'visuallyhidden' }) }}
    {% else %}
        {% include 'AppBundle:Components/ButtonBar:_start.html.twig' %}
        {{ form_submit(no_contact.saveReason,'save') }}

        {% if (action == 'edit-reason') or ((action == 'edit-reason') and (no_contact.reason.vars.errors is not empty)) %}
            {% include 'AppBundle:Components/Link:_link-button.html.twig' with {
            transDomain: translationDomain,
            linkButtonLabel: 'cancel.label',
            linkClass: 'button-link behat-link-cancel-edit-reason',
            linkHref: path('contacts', {'reportId': report.id})
            } %}

            {% include 'AppBundle:Components/Link:_link-button.html.twig' with {
            transDomain: translationDomain,
            linkButtonLabel: 'delete.label',
            linkClass: 'button-warning behat-link-delete-confirm',
            linkHref: path('contacts', {'reportId': report.id, 'action': 'delete-reason-confirm', 'id': app.request.get('id') }) ~ '#delete-reason-confirm'
            } %}
        {% endif %}

        {% include 'AppBundle:Components/ButtonBar:_end.html.twig' %}
    {% endif %}

    {{ form_end(no_contact) }}

{% endif %}
