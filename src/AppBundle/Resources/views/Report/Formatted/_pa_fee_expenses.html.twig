{% set translationDomain = "report-pa-fee-expense" %}
{% trans_default_domain translationDomain %}

<div class="section" id="pa-fees-expenses-section">
    <h2 class="section-heading">{{ 'startPage.pageSectionTitle'|trans }}</h2>

    <div class="dont-break">
        <div class="box">
            <div class="checkboxes horizontal">
                <div class="question">{{ 'feeExistPage.form.hasFees.label'|trans }}</div>

                <table class="yesno small">
                    <tr>
                        {% for answer in ['yes', 'no'] %}
                            <td class="checkbox"
                                data-checkbox="report-has-pa-fees--{{ answer }}">{% if report.hasFees == answer %}X{% else %}&nbsp;{% endif %}</td>
                            <td class="label">{{ answer | capitalize }}</td>
                        {% endfor %}
                    </tr>
                </table>
                {% if report.hasFees =='yes' %}
                    <ul class="transactions">
                        {% for fee in report.fees %}
                            <li class="transaction {% if fee.amount == 0 %}{{ fee.amount }} disable{% endif %}">
                                <div class="label">{{ ('form.entries.' ~ fee.feeTypeId ~ '.label') | trans }}</div>
                                <div class="value">&pound;{{ fee.amount | money_format }}</div>
                                {% if fee.moreDetails %}
                                    <div class="description">
                                        {{ fee.moreDetails | nl2br }}
                                    </div>
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <div class="value textarea">{{ report.reasonForNoFees | nl2br }}</div>
                {% endif %}
            </div>
        </div>

        {% if report.hasFees == 'yes' %}
            {# total value #}
            <div class="box total">
                <div class="labelvalue inline">
                    <div class="label">Total amount</div>
                    <div class="value" id="assetsTotal">&pound;{{ report.feesTotal | money_format }}</div>
                </div>
            </div>
        {% endif %}

        <div class="box">
            <div class="checkboxes horizontal">

                <div class="question">{{ 'otherExistPage.form.paidForAnything.label'|trans }}</div>

                <table class="yesno small">
                    <tr>
                        {% for answer in ['yes', 'no'] %}
                            <td class="checkbox"
                                data-checkbox="report-pa-paid-for-anything--{{ answer }}">{% if report.paidForAnything == answer %}X{% else %}&nbsp;{% endif %}</td>
                            <td class="label">{{ answer | capitalize }}</td>
                        {% endfor %}
                    </tr>
                </table>
            </div>
            {% if report.paidForAnything == 'yes' %}
                <div class="category">
                    <ul class="transactions">
                        {% for expense in report.expenses %}
                            <li class="transaction ">
                                <div class="label">{{ expense.explanation }}</div>
                                <div class="value">&pound; {{ expense.amount | money_format }}</div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        </div>

        {% if report.paidForAnything == 'yes' %}
            {# total value #}
            <div class="box total">
                <div class="labelvalue inline">
                    <div class="label">Total amount</div>
                    <div class="value" id="assetsTotal">&pound;{{ report.expensesTotal | money_format }}</div>
                </div>
            </div>
        {% endif %}
    </div>
</div>