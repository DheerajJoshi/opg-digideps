services:
    sendgrid:
      class: SendGrid
      arguments: [ "%sendgrid_username%", "%sendgrid_password%", {host: "api.sendgrid.com",} ]
        
    # pass it into Swift_Mailer to always write email into disk rather than sending them
    mailer.transport.fileWriter:
        class: AppBundle\Mailer\Transport\FileWriter
        arguments: [ "/tmp/dd_mail_mock" ]
        
    mailer.transport.secureSmtp:
        class: Swift_SmtpTransport
        arguments: [ "%smtp_hostname%", "%smtp_port%" ]
    
    mailer.transport.sendgrid:
        class: AppBundle\Mailer\Transport\SendGridTransport
        arguments: [ @sendgrid, "/tmp/dd_sendgrid_current_attachment.tmp"]
