imports:
    - { resource: services/file_uploads.yml }
    - { resource: services/mappers.yml }
    - { resource: services/resolvers.yml }
    - { resource: services/transformers.yml }
    - { resource: services/twig.yml }
    - { resource: services_mail.yml }
    - { resource: services_forms.yml }
    - { resource: services_api.yml }
    - { resource: services_listeners.yml }
    - { resource: services_login.yml }
    - { resource: services_pa.yml }

services:

    _defaults:
        autowire: true
        autoconfigure: true
        public: true

    AppBundle\Controller\:
        resource: "@AppBundle/Controller/"
        tags: [controller.service_arguments]

    AppBundle\Service\Redirector:
        class: AppBundle\Service\Redirector
        arguments: [ "@security.token_storage", "@security.authorization_checker", "@router", "@session", "%env%" ]

    redirector_service:
        alias: AppBundle\Service\Redirector

    wkhtmltopdf:
        class: AppBundle\Service\WkHtmlToPdfGenerator
        arguments: [ "%wkhtmltopdf_address%", 30]

    step_redirector:
      class: AppBundle\Service\StepRedirector
      arguments: [ "@router" ]

    AppBundle\Service\DocumentService:
      class: AppBundle\Service\DocumentService
      arguments:
        $s3Storage: "@s3_storage"
        $restClient: "@rest_client"
        $logger: "@logger"
        $twig: "@Twig\\Environment"

    report_fee_service:
      class: AppBundle\Service\ReportFeeService

    AppBundle\Service\ReportSubmissionService:
      class: AppBundle\Service\ReportSubmissionService
      arguments: [ "@service_container" ]

    csv_generator_service:
      class: AppBundle\Service\CsvGeneratorService
      arguments: [ "@translator", "@logger" ]

    report_section_link_service:
      class: AppBundle\Service\ReportSectionsLinkService
      arguments: [ "@router" ]

    AppBundle\Controller\Admin\ReportSubmissionController:
        class: AppBundle\Controller\Admin\ReportSubmissionController
        arguments:
            $documentDownloader: "@AppBundle\\Service\\DocumentDownloader"

    AppBundle\Service\DocumentDownloader:
        class: AppBundle\Service\DocumentDownloader
        arguments:
            $documentService: "@AppBundle\\Service\\DocumentService"
            $reportSubmissionService: "@AppBundle\\Service\\ReportSubmissionService"
            $zipFileCreator: "@AppBundle\\Service\\File\\DocumentsZipFileCreator"

    AppBundle\Service\File\DocumentsZipFileCreator:
        class: AppBundle\Service\File\DocumentsZipFileCreator
